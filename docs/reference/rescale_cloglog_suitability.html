<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Rescales cloglog suitability output from MaxEnt model as an exponential. — rescale_cloglog_suitability • slfSpread</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Rescales cloglog suitability output from MaxEnt model as an exponential. — rescale_cloglog_suitability"><meta name="description" content="This function will take the cloglog suitability output from MaxEnt, which is
on a 0-1 scale, and re-scale it around a set median value. The range of the
values will still be 0-1, but the median will now be the value of the thresh
parameter. The scaling function is applied as an exponential, for the purposes
of visualizing suitability change around a critical threshold (at the scale of
0-1, it can often be hard to see changes across the suitability threshold if
its value is very small). THis function will not work correctly if the desired
threshold value is 0.
This function and some of its inputs were co-authored by Jacob Woods."><meta property="og:description" content="This function will take the cloglog suitability output from MaxEnt, which is
on a 0-1 scale, and re-scale it around a set median value. The range of the
values will still be 0-1, but the median will now be the value of the thresh
parameter. The scaling function is applied as an exponential, for the purposes
of visualizing suitability change around a critical threshold (at the scale of
0-1, it can often be hard to see changes across the suitability threshold if
its value is very small). THis function will not work correctly if the desired
threshold value is 0.
This function and some of its inputs were co-authored by Jacob Woods."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">slfSpread</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/slfSpread.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Quantify risk to specific viticultural regions</h6></li>
    <li><a class="dropdown-item" href="../articles/150_create_risk_report.html">Example usage of create_risk_report.R to create reports of key viticultural areas</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Initialize slfSpread</h6></li>
    <li><a class="dropdown-item" href="../articles/010_initialize_pkg.html">Initialization of renv package for dependencies</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>1. Retrieve and tidy input data for MaxEnt</h6></li>
    <li><a class="dropdown-item" href="../articles/020_retrieve_SLF_records.html">Retrieve SLF records from various sources and tidy them for MaxEnt modeling</a></li>
    <li><a class="dropdown-item" href="../articles/030_retrieve_bioclim_variables.html">Retrieve bioclim rasters from CHELSA and tidy them for MaxEnt modeling</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>2. SDM modeling pipeline</h6></li>
    <li><a class="dropdown-item" href="../articles/040_setup_global_MaxEnt_model.html">Setup for global-scale MaxEnt model</a></li>
    <li><a class="dropdown-item" href="../articles/050_run_global_MaxEnt_model.html">Run global-scale MaxEnt model</a></li>
    <li><a class="dropdown-item" href="../articles/060_setup_regional_MaxEnt_models.html">Setup for regional-scale MaxEnt models</a></li>
    <li><a class="dropdown-item" href="../articles/070_run_regional_invaded_MaxEnt_model.html">Run 'Ri.NAmerica' model trained on SLF invaded region in North America</a></li>
    <li><a class="dropdown-item" href="../articles/080_run_regional_invaded_asian_MaxEnt_model.html">Run 'Ri.Asia' model trained on SLF invaded range in Japan and South Korea</a></li>
    <li><a class="dropdown-item" href="../articles/090_run_regional_native_MaxEnt_model.html">Run 'Rn' model trained on SLF native range in east Asia</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>3. Ensemble Regional-scale SDMs</h6></li>
    <li><a class="dropdown-item" href="../articles/100_run_ExDet_MIC.html">Run an Extrapolation Detection (NT2) analysis and calculate MIC</a></li>
    <li><a class="dropdown-item" href="../articles/110_ensemble_regional_models.html">Ensemble regional-scale models into a single prediction</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>4. Quantify SLF risk and model fit</h6></li>
    <li><a class="dropdown-item" href="../articles/120_create_suitability_maps.html">Map regional ensemble predictions and intercept with global model</a></li>
    <li><a class="dropdown-item" href="../articles/130_create_suitability_xy_plots_viticultural.html">Plot shift in SLF suitability for important viticultural regions under climate change</a></li>
    <li><a class="dropdown-item" href="../articles/131_create_suitability_xy_plots_SLF.html">Plot stability of known SLF populations due climate change effects</a></li>
    <li><a class="dropdown-item" href="../articles/140_plot_response_curves.html">Plot response curves</a></li>
    <li><a class="dropdown-item" href="../articles/141_plot_AUC_var_cont.html">Plot AUC curves and variable contribution graphs</a></li>
    <li><a class="dropdown-item" href="../articles/142_calculate_model_fit.html">Calculate model fit statistics</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ieco-lab/slfSpread/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Rescales cloglog suitability output from MaxEnt model as an exponential.</h1>
      <small class="dont-index">Source: <a href="https://github.com/ieco-lab/slfSpread/blob/HEAD/R/rescale_cloglog_suitability.R" class="external-link"><code>R/rescale_cloglog_suitability.R</code></a></small>
      <div class="d-none name"><code>rescale_cloglog_suitability.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function will take the cloglog suitability output from MaxEnt, which is
on a 0-1 scale, and re-scale it around a set median value. The range of the
values will still be 0-1, but the median will now be the value of the <code>thresh</code>
parameter. The scaling function is applied as an exponential, for the purposes
of visualizing suitability change around a critical threshold (at the scale of
0-1, it can often be hard to see changes across the suitability threshold if
its value is very small). THis function will not work correctly if the desired
threshold value is 0.</p>
<p>This function and some of its inputs were co-authored by Jacob Woods.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rescale_cloglog_suitability</span><span class="op">(</span></span>
<span>  <span class="va">xy.predicted</span>,</span>
<span>  <span class="va">thresh</span>,</span>
<span>  <span class="va">exponential.file</span>,</span>
<span>  <span class="va">summary.file</span>,</span>
<span>  rescale.name <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  rescale.thresholds <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-xy-predicted">xy.predicted<a class="anchor" aria-label="anchor" href="#arg-xy-predicted"></a></dt>
<dd><p>Data import. A predicted cloglog suitability with
longitude and latitude data. This output should be taken from one of the
internal package functions: <code><a href="predict_xy_suitability.html">predict_xy_suitability()</a></code> or
<code><a href="predict_xy_suitability_CV.html">predict_xy_suitability_CV()</a></code>. See details for specifics of formatting.</p></dd>


<dt id="arg-thresh">thresh<a class="anchor" aria-label="anchor" href="#arg-thresh"></a></dt>
<dd><p>Numeric or Character. This may be imported manually
(numeric), or may be selected from one of the thresholds for the model
(character). See details for a list of preset options and other usages.</p></dd>


<dt id="arg-exponential-file">exponential.file<a class="anchor" aria-label="anchor" href="#arg-exponential-file"></a></dt>
<dd><p>Data import. Should be a .csv file or data frame. Contains
a comprehensive list of possible threshold values and the corresponding c1, c2
ans c3 values. Where x is equal to the original suitability value and y is
equal to the transformed version of that suitability value, these values are
used in the exponential function "y = c1 * c2^x + c3".</p></dd>


<dt id="arg-summary-file">summary.file<a class="anchor" aria-label="anchor" href="#arg-summary-file"></a></dt>
<dd><p>Data import. Should be a .csv file or data frame.
Contains preset values for thresholds. If an import, file path should be in
the format produced by the <code><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path()</a></code> function (i.e. with '/' instead of '\').</p>
<p>For a global or regional model, this will be a file containing summary
statistics that is created by one of the following internal package functions:
<code><a href="compute_MaxEnt_summary_statistics.html">compute_MaxEnt_summary_statistics()</a></code>, with a filename ending in
"_summary.csv", or
<code><a href="compute_MaxEnt_summary_statistics_CV.html">compute_MaxEnt_summary_statistics_CV()</a></code>, with a filename ending in
"_summary_all_iterations.csv".</p>
<p>For the regional_ensemble model, this file should end in "_threshold_values.csv"</p></dd>


<dt id="arg-rescale-name">rescale.name<a class="anchor" aria-label="anchor" href="#arg-rescale-name"></a></dt>
<dd><p>Character. Descriptive name to be given to column of
rescaled values.</p></dd>


<dt id="arg-rescale-thresholds">rescale.thresholds<a class="anchor" aria-label="anchor" href="#arg-rescale-thresholds"></a></dt>
<dd><p>Logical. If true, the function will also rescale
the list of thesholds given in the thresh presets list. All other thresholds
are rescaled with reference to the threshold specified by <code>thresh</code>. This is
advised if visualizing with multiple thresholds.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns the input data frame with an additional column containing the re-scaled
exponential values for the cloglog suitability.</p>
<p>If rescale.thresholds = TRUE, will return a list of data frames. The first
object in the list will be the rescaled suitability values, and the second
object in the list will be the rescaled thresholds.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Requires the following packages: 'tidyverse', 'cli'.</p>
<p>This function is based on an exponential equation of the form:</p>
<p>f(x) = c_1 * c_2^x + c_3</p>
<p>where x is the input suitability value and f(x) is the transformed value of x
with respect to <code>thresh</code> as the median of the range. The function calls a
reference table to transform the thresh (z) into its respective value f(z) = 0.5
on the exponential scale. The values for the exponential equation were found
using the equation:</p>
<p>log((0.5 - c_3) / c1) / log(c_2)</p><div class="section">
<h3 id="xy-predicted">xy.predicted<a class="anchor" aria-label="anchor" href="#xy-predicted"></a></h3>


<p>Fromatting: Should be a data.frame or .csv file. The columns should be in the
order: descriptive columns, x (longitude), y (latitude), cloglog suitability
(last column). If an import, file path should be in the format produced by the
<code><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path()</a></code> function (i.e. with '/' instead of '\').</p>
</div>

<div class="section">
<h3 id="thresh-">thresh:<a class="anchor" aria-label="anchor" href="#thresh-"></a></h3>


<p>Thresh presets list:</p><ul><li><p><code>MTP</code> = Minimum Training Presence</p></li>
<li><p><code>MTP.CC</code> = (regional_ensemble model only) Minimum Training Presence, transformed for climate predictions.</p></li>
<li><p><code>MTSS</code> = Maximum training sensitivity plus specificity</p></li>
<li><p><code>MTSS.CC</code> = (regional_ensemble model only) Maximum training sensitivity plus specificity, transformed for climate predictions.</p></li>
</ul></div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>

    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Samuel M. Owens, Matthew R. Helmus.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>


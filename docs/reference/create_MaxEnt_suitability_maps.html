<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Predicts maps of establishment suitability based on a MaxEnt model without cross-validation ('Maxent' object) — create_MaxEnt_suitability_maps • scari</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Predicts maps of establishment suitability based on a MaxEnt model without cross-validation ('Maxent' object) — create_MaxEnt_suitability_maps"><meta name="description" content="This function will create a map of establishment suitability based on a MaxEnt
model trained using the SDMtune R package. It will optionally create
thresholded versions of these maps using thresholds given by the MaxEnt
algorithm."><meta property="og:description" content="This function will create a map of establishment suitability based on a MaxEnt
model trained using the SDMtune R package. It will optionally create
thresholded versions of these maps using thresholds given by the MaxEnt
algorithm."><meta property="og:image" content="https://ieco-lab.github.io/scari/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">scari</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/scari.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Quantify risk to specific viticultural regions</h6></li>
    <li><a class="dropdown-item" href="../articles/150_create_risk_report.html">Example usage of create_risk_report() to create reports of key viticultural areas</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Initialize scari</h6></li>
    <li><a class="dropdown-item" href="../articles/010_initialize_pkg.html">Initialization of renv package for dependencies</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>1. Retrieve and tidy input data for MaxEnt</h6></li>
    <li><a class="dropdown-item" href="../articles/020_retrieve_bioclim_variables.html">Bioclim variable rasters: CHELSA</a></li>
    <li><a class="dropdown-item" href="../articles/030_retrieve_occurrence_records.html">SLF occurrence records: GBIF, lydemapR, literature</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>2. SDM modeling pipeline</h6></li>
    <li><a class="dropdown-item" href="../articles/040_setup_global_MaxEnt_model.html">Setup for global-scale MaxEnt model</a></li>
    <li><a class="dropdown-item" href="../articles/050_run_global_MaxEnt_model.html">Run global-scale MaxEnt model</a></li>
    <li><a class="dropdown-item" href="../articles/060_setup_regional_MaxEnt_models.html">Setup for regional-scale MaxEnt models</a></li>
    <li><a class="dropdown-item" href="../articles/070_run_regional_invaded_MaxEnt_model.html">Run 'Ri.NAmerica' model trained on SLF invaded region in North America</a></li>
    <li><a class="dropdown-item" href="../articles/080_run_regional_invaded_asian_MaxEnt_model.html">Run 'Ri.Asia' model trained on SLF invaded range in Japan and South Korea</a></li>
    <li><a class="dropdown-item" href="../articles/090_run_regional_native_MaxEnt_model.html">Run 'Rn' model trained on SLF native range in east Asia</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>3. Ensemble Regional-scale SDMs</h6></li>
    <li><a class="dropdown-item" href="../articles/100_run_ExDet_MIC.html">Run an Extrapolation Detection (NT2) analysis and calculate MIC</a></li>
    <li><a class="dropdown-item" href="../articles/110_ensemble_regional_models.html">Ensemble regional-scale models using a weighted mean</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>4. Quantify SLF risk and model fit</h6></li>
    <li><a class="dropdown-item" href="../articles/120_create_suitability_maps.html">Create risk maps of each model scale and intersect predictions</a></li>
    <li><a class="dropdown-item" href="../articles/130_create_suitability_xy_plots_viticultural.html">Plot shift in SLF risk to important viticultural regions under climate change</a></li>
    <li><a class="dropdown-item" href="../articles/131_create_suitability_xy_plots_SLF.html">Infer stability of known SLF populations due climate change effects</a></li>
    <li><a class="dropdown-item" href="../articles/140_plot_response_curves.html">Analyze biological realism of model response curves</a></li>
    <li><a class="dropdown-item" href="../articles/141_plot_AUC_var_cont.html">Check model goodness of fit via AUC, TSS and confusion matrices</a></li>
    <li><a class="dropdown-item" href="../articles/142_calculate_model_fit.html">Calculate model fit using confusion matrices</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ieco-lab/scari/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Predicts maps of establishment suitability based on a MaxEnt model without cross-validation ('Maxent' object)</h1>
      <small class="dont-index">Source: <a href="https://github.com/ieco-lab/scari/blob/HEAD/R/create_MaxEnt_suitability_maps.R" class="external-link"><code>R/create_MaxEnt_suitability_maps.R</code></a></small>
      <div class="d-none name"><code>create_MaxEnt_suitability_maps.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function will create a map of establishment suitability based on a MaxEnt
model trained using the <code>SDMtune</code> R package. It will optionally create
thresholded versions of these maps using thresholds given by the MaxEnt
algorithm.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create_MaxEnt_suitability_maps</span><span class="op">(</span></span>
<span>  <span class="va">model.obj</span>,</span>
<span>  <span class="va">model.name</span>,</span>
<span>  <span class="va">mypath</span>,</span>
<span>  create.dir <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">env.covar.obj</span>,</span>
<span>  describe.proj <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  predict.type <span class="op">=</span> <span class="st">"cloglog"</span>,</span>
<span>  clamp.pred <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  thresh <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  map.thresh <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  map.thresh.extra <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  map.style <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  summary.file <span class="op">=</span> <span class="cn">NA</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-model-obj">model.obj<a class="anchor" aria-label="anchor" href="#arg-model-obj"></a></dt>
<dd><p>A model object created by the package 'SDMtune', should be of
class 'SDMmodelCV'.</p></dd>


<dt id="arg-model-name">model.name<a class="anchor" aria-label="anchor" href="#arg-model-name"></a></dt>
<dd><p>Character. A string matching the name of the object set for
<code>model.obj</code>. Exclude unnecessary phrases, such as the "_model" ending.</p></dd>


<dt id="arg-mypath">mypath<a class="anchor" aria-label="anchor" href="#arg-mypath"></a></dt>
<dd><p>Character.A file path to the sub directory where the model
output will be stored. Should be used with the <code><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path()</a></code> function
(i.e. with '/' instead of '\'). If this sub directory does not already exist
and should be created by the function, set <code>create.dir</code> = TRUE. This will
create a folder from the last part of the filepath in <code>mypath</code>.</p></dd>


<dt id="arg-create-dir">create.dir<a class="anchor" aria-label="anchor" href="#arg-create-dir"></a></dt>
<dd><p>Logical. Should the last element of <code>mypath</code> create a sub
directory for the model output? If TRUE, the main folder will be created for
the model output. If FALSE (ie, the sub directory already exists), only the
"plots" folder within the model output sub directory will be created.</p></dd>


<dt id="arg-env-covar-obj">env.covar.obj<a class="anchor" aria-label="anchor" href="#arg-env-covar-obj"></a></dt>
<dd><p>A stack of rasters of environmental covariates. These
covariates may be the same covariates used to train the model, or they may be
temporally or spatially projected (ex, for climate change). Suitability
predictions will be made based on these rasters. See details for additional
formatting information.</p></dd>


<dt id="arg-describe-proj">describe.proj<a class="anchor" aria-label="anchor" href="#arg-describe-proj"></a></dt>
<dd><p>Character. Is the environmental covariate raster stack in
<code>env.covar.obj</code> projected to a different geographical space, time period, etc
than the model was trained on? If yes, enter the name of the projected period
or region. This ensures that plot titles and file names reflect the projected
region or time period. If using multiple words, separate with an underscore.</p></dd>


<dt id="arg-predict-type">predict.type<a class="anchor" aria-label="anchor" href="#arg-predict-type"></a></dt>
<dd><p>Character. Default is "cloglog". The type of raster output
to be created from the trained model. Can be either <code>cloglog</code> or
<code>c("cloglog", "logistic")</code>. Cannot only be <code>logistic</code>.</p></dd>


<dt id="arg-clamp-pred">clamp.pred<a class="anchor" aria-label="anchor" href="#arg-clamp-pred"></a></dt>
<dd><p>Logical. Default is TRUE. Should clamping be performed?</p></dd>


<dt id="arg-thresh">thresh<a class="anchor" aria-label="anchor" href="#arg-thresh"></a></dt>
<dd><p>Numeric or Character. Does not need to be defined if
<code>map.thresh = FALSE</code> This may be imported manually (numeric), or may be
selected from one of the thresholds for the model (character). If a preset,
the specified mean threshold value for all iterations of the model is chosen.
See details for a list of preset options and other usages.</p></dd>


<dt id="arg-map-thresh">map.thresh<a class="anchor" aria-label="anchor" href="#arg-map-thresh"></a></dt>
<dd><p>Logical, TRUE by default. This function determines if a
thresholded suitability map will be created. If not, output will only consist
of suitability maps of the type specified in <code>predict.fun</code>. <strong>Note</strong> threshold
maps can only be created for the cloglog output from the model. If multiple
values for <code>predict.type</code> are specified, the function will still only produce
a threshold map based on the cloglog output</p></dd>


<dt id="arg-map-thresh-extra">map.thresh.extra<a class="anchor" aria-label="anchor" href="#arg-map-thresh-extra"></a></dt>
<dd><p>Character, default is NA. This argument will plot an
extra threshold underneath the main threshold layer. It must be one of the
thresholds specified in <code>thresh</code> and must be less than or equal to the value
of the other values of thresh. For example, I use this to plot the MTP
threshold under the other thresholds being plotted (because MTP is usually the
smallest thresh value). However, plotting the 10_percentile thresh under the
MTP threshold would not function properly and the map would not render.</p></dd>


<dt id="arg-map-style">map.style<a class="anchor" aria-label="anchor" href="#arg-map-style"></a></dt>
<dd><p>List, default is NA. This is used to apply
ggplot aesthetics to the plot outputs. If specified, the given value should be
a list of ggplot aesthetic options. If not, the built-in default list will be
used (see details). See examples for usage.</p></dd>


<dt id="arg-summary-file">summary.file<a class="anchor" aria-label="anchor" href="#arg-summary-file"></a></dt>
<dd><p>Data import. Does not need to be defined if
<code>map.thresh = FALSE</code>. Should be a .csv file or data frame that contains the
summary statistics output created by
<code><a href="compute_MaxEnt_summary_statistics.html">compute_MaxEnt_summary_statistics()</a></code> (filename ending in
"_summary.csv"). If an import, file path should be in the format produced
by the <code><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path()</a></code> function (i.e. with '/' instead of '\').</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A raster of suitability values projected to the same spatial extent as the
input <code>env.covar.obj</code> and a corresponding .jpg figure are created. If multiple
values are given for <code>predict.fun</code>, then one raster and jpg image
will be created for each value. If <code>map.thresh = TRUE</code>, then the output will
also include a binary raster of suitability and a .jpg image of unsuitable
areas layered on top of suitability raster. This threshold of suitability is
determined by the value of <code>thresh</code>.</p>
<p>Use caution: will overwrite previous files by default.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function requires the packages 'cli', 'ggnewscale', 'tidyverse', 'devtools', 'SDMtune', and 'terra'</p>
<p>The thresholding feature of this function will limit what is considered
suitable using one of a list of commonly applied thresholds. These threshold
values are determined by the MaxEnt algorithm. (ie, a non-thresholded map on
the cloglog scale has a lower color scale limit of 0, while a thresholded map
has a lower limit determined by the algorithm.)</p>
<p><strong>NOTE</strong> This function will create a thresholded suitability map for a raster
output using the SD function, but this map would not be meaningful because
it does not illustrate cloglog suitability (while thresholds are created
using the cloglog suitability metrics).</p><div class="section">
<h3 id="thresh-">thresh:<a class="anchor" aria-label="anchor" href="#thresh-"></a></h3>


<p>This can be a single numeric or preset character value. It may also be a
concatenated set of numerics or presets, as in  <code>c(0.2, 0.3)</code> or
<code>c("MTSS", "BTO")</code>. Note that this function only uses the cloglog version of
these thresholds.</p>
<p>Thresh presets list:</p><ul><li><p><code>BTO</code> = Balance training omission predicted area and threshold value</p></li>
<li><p><code>EE</code> = Equate entropy of thresholded and original distributions</p></li>
<li><p><code>ETSS</code> = Equal training sensitivity and specificity</p></li>
<li><p><code>MTP</code> = Minimum Training Presence</p></li>
<li><p><code>MTSS</code> = Maximum training sensitivity plus specificity</p></li>
<li><p><code>ten_percentile</code> or <code>10_percentile</code> = Ten percentile training presence</p></li>
</ul></div>

<div class="section">
<h3 id="env-covar-obj-">env.covar.obj:<a class="anchor" aria-label="anchor" href="#env-covar-obj-"></a></h3>


<p>This must a <code>SpatRaster</code> raster stack created using <code><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">terra::rast()</a></code>. The stack
should include the same covariates (as raster layers) that you used to train
the model and the names of the variables in these layers must be the same.
You can check for naming consistency using <code><a href="https://rdrr.io/r/base/names.html" class="external-link">names()</a></code>.</p>
</div>

<div class="section">
<h3 id="map-style-">map.style:<a class="anchor" aria-label="anchor" href="#map-style-"></a></h3>


<p>Map style default options:</p><ul><li><p><code>xlab("longitude")</code></p></li>
<li><p><code>ylab("latitude")</code></p></li>
<li><p><code>labs(fill = "Suitability for SLF")</code></p></li>
<li><p><code>theme_classic()</code></p></li>
<li><p><code>theme(legend_position = "bottom")</code></p></li>
<li><p><code>theme(panel.background = element_rect(fill = "lightblue2", color = "lightblue2"), legend.title = element_text(face = "bold"))</code></p></li>
<li><p><code>scale_x_continuous(expand = c(0, 0))</code></p></li>
<li><p><code>scale_y_continuous(expand = c(0, 0))</code></p></li>
<li><p><code>coord_equal()</code></p></li>
<li><p><code>scale_fill_viridis_c(option = "D", limits = c(0, 1.00), breaks = c(0, 0.25, 0.5, 0.75, 1.00), guide = guide_colorbar(frame.colour = "black", ticks.colour = "black", barwidth = 20))</code></p></li>
</ul></div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>

    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Samuel M. Owens, Matthew R. Helmus.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

